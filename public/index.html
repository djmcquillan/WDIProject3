<html>
<!-- AIzaSyAzeF6VB_ogSwIfHIFYje4IAY0enmfRum0 -->
<!-- UUAuUUnT6oDeKwE6v1NGQxug -->
<head>
	<meta charset="utf-8">
	<title>AJAX</title>
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
</head>
<body>
	<h1>Meet Ted</h1>
	<button type="button" id="videos">Display Talk</button>
	<button type="button" id="post-videos">Post Video To DB</button>

	<script type="text/javascript">
	$("#videos").on('click',function(){
		$.ajax({
			url: "/api/videos",
			method: 'GET',
			success: function(data){
				console.log("video found")
				$('#display-video').attr('src',data)
			}
		})		
	})

	$("#post-videos").on('click',function(){	
				    $.ajax({
				      	url: '/api/videos',
				      	method: 'POST',
				      	data: {
				      		videoId: videoId,
				      		source: embedURL
				      	},
						dataType: 'application/json',
						success: function(data){
							console.log(data)
							console.log(videoId)
							console.log(embedURL)
						}
				    })
				})
	</script>
	<iframe id="display-video" width="420" height="315" src=""></iframe>

		<h1>MeetUps</h1>
		<button type="button" id="meetups">Display Meetups</button>
	<ul class="all-meetups"></ul>
		<script type="text/javascript">
		var embedURL;
		var meetupName;
		$("#meetups").on('click',function(){
		$.ajax({url: 'https://api.meetup.com/find/groups?zip=90403&country=US&upcoming_events=true&fallback_suggestions=true&text=tech&order=distance&page=6&sign=true&key=3a2b371927762ef203771e35256a42',
			 method: 'GET', 
			 dataType: 'jsonp',
			 success: function(data){
			console.log(data)
			data.data.forEach(function(m){
						var nameSpan = '<span class="meetup-name">' + m.name + '</span>'
						var li = '<li>' + nameSpan + '</li>'
						$('.all-meetups').append(li)
					})
			}})
		})

</script>


</body>
</html>